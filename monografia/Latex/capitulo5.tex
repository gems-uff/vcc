
\capitulo{Resultados Experimentais}\label{cap:resultExperimentais}

Nesse capítulo serão discutidos os resultados experimentais obtidos a partir da utilização do \textit{plugin} VCC sobre o sistema objeto de estudo, o IdUFF - Sistema de Gestão Acadêmica da Universidade Federal Fluminense. Na seção 5.1 será apresentado o sistema utilizado no experimento, na seção 5.2 será apresentado o planejamento do experimento, seguido pela seção 5.3, que aborda a aplicação do experimento. Finalmente, nas seções 5.4 e 5.5 serão apresentados, respectivamente, os resultados obtidos e as ameaças a validade desse experimento.

\section{O sistema objeto de estudo - IdUFF}

O sistema IdUFF é o sistema de gestão acadêmica utilizado na Universidade Federal Fluminense. Ele foi escolhido para ser utilizado no experimento pela facilidade de contato com os desenvolvedores, que são ou foram alunos de graduação e pós-graduação da UFF, e por ser um sistema de médio porte, que vem sendo desenvolvido há 3 anos e apresenta uma grande quantidade de código fonte a ser minerada. O mesmo foi desenvolvido sobre a plataforma Java, a mesma linguagem que o \textit{plugin} VCC foi desenvolvido para ser utilizado. Possuí aproximadamente 40 mil usuários, entre alunos, professores e funcionários da Universidade.  O repositório de código fonte do IdUFF possui 4920 commits e o sistema IdUFF tem aproximandamente 850 revisões. O sistema possui 779 classes JAVA, desconsiderando classes de teste, arquivos de interface HTML e arquivos de configuração.


\section{Planejamento do Experimento}

Com o objetivo de avaliar o quanto as sugestões de código do \textit{plugin} VCC seriam úteis para um desenvolvedor que o estivesse utilizando, duas abordagens de experimento foram discutidas, ambas utilizando como base a experiência de desenvolvimento do programador no sistema IdUFF. 

Na primeira abordagem, o próprio desenvolvedor utilizaria o \textit{plugin} VCC, instalado na sua IDE, ou seja, no seu ambiente de desenvolvimento do dia-a-dia de trabalho e, a partir disso, poderia avaliar se as sugestões do \textit{plugin} seriam úteis. Porém, esta abordagem não se mostrou interessante para ser aplicada nesse projeto, pois além de demandar muito tempo, causaria muitos transtornos, pois o ambiente de desenvolvimento do sistema IdUFF utiliza uma IDE diferente da qual o \textit{plugin}  VCC foi acoplado. Outro ponto negativo dessa abordagem é que a usabilidade do \textit{plugin} não é o foco desse experimento, e sim os resultados apresentados pelo mesmo.

Na segunda abordagem, uma análise em ambiente controlado poderia ser aplicada, fornecendo aos desenvolvedores um questionário de avaliação contendo alguns padrões de código pré-selecionados, obtidos a partir da utilização do \textit{plugin} VCC sobre o repositório de código fonte do sistema objeto de estudo. Assim, o mesmo poderia classificar, a partir de sua experiência no desenvolvimento do sistema, se as sugestões fariam sentido ou não, se lhe fossem apresentadas no ambiente de trabalho.



\section{Aplicação do Experimento}

A segunda abordagem foi escolhida, justamente por permitir um maior controle sobre a avaliação feita pelos desenvolvedores voluntários, garantindo-se que os mesmos padrões fossem avaliados por todos. Assim, poderíamos avaliar se os resultados eram interessantes para os diversos perfis de desenvolvedores.

Para participar do experimento, os voluntários deveriam pertencer obrigatoriamente à equipe de desenvolvimento do sistema IdUFF. Seis desenvolvedores foram voluntários na participação desse experimento. Não houve nenhum tipo de compensação para os participantes.

Inicialmente, o voluntário foi informado do estudo através do Formulário de Consentimento (Apêndice I). Caso concordasse em participar, ele preenchia o Questionário de Caracterização (Apêndice II), que avalia o nível de conhecimento e experiência do voluntário em diferentes temas relacionados ao estudo. Essas informações foram de grande utilidade, ajudando na interpretação dos resultados obtidos por cada um dos participantes.



A Tabela \ref{tab:resumo-caracterizacao} apresenta um resumo da caracterização desses participantes. Os níveis de experiência variam de 0 a 4, onde 0 representa o nível mais baixo e 4 representa o nível mais alto de experiência. 

\begin{table}
	\begin{center}
		\includegraphics[width=1.0\textwidth]{resumo-caracterizacao.png}
		  \TabLegenda{\label{tab:resumo-caracterizacao}Resumo do Questionário de Caracterização dos participantes.}
			%\FigLegenda{\label{fig:resumo-caracterizacao}Resumo do Questionário de Caracterização dos participantes.}
	\end{center}
\end{table}

Na situação proposta aos participantes, um cenário fictício foi sugerido, onde os mesmos estariam programando uma linha de código, por exemplo, chamando pelo método A, e o \textit{plugin} VCC iria exibir um padrão, sugerindo que desenvolvedores que chamam o método A  também chamam o método B.

Assim, 10 padrões de código foram escolhidos do total de 424 padrões minerados através da utilização do \textit{plugin} VCC, para serem analisados pelos desenvolvedores.  Esses padrões foram obtidos utilizando-se um suporte mínimo de 0,3\%, que foi escolhido após testes com diversos valores, por apresentar um número razoável de sequências mineradas e ter um tempo de processamento relativamente rápido. O critério de escolha dos 10 padrões adotados foi uma combinação entre os valores de suporte e confiança dos mesmos: suporte alto e confiança alta, suporte alto e confiança baixa, suporte baixo e confiança alta, suporte baixo e confiança baixa.

Os voluntários então preenchiam o Questionário de Avaliação (Apêndice III), por meio do qual expressavam sua opinião com relação a cada sugestão, podendo optar pelas seguintes respostas: não sei, discordo totalmente, discordo parcialmente, concordo parcialmente e concordo plenamente. As respostas foram dispostas exatamente nessa ordem de aceitação da sugestão. 


\section{Resultados Obtidos}

Como visto na seção 5.3, 6 voluntários participaram do experimento, todos eles com experiência em desenvolvimento de software. Os resultados obtidos do questionário de avaliação foram, em geral, positivos com relação à utilidade das sugestões de código informadas. Grande parte dos voluntários se mostrou interessado no \textit{plugin}, e gostaria de vê-lo sendo utilizado em seu ambiente de trabalho, se disponibilizando para ajudar a implementar as alterações necessárias para que o mesmo seja utilizado na IDE \textit{NetBeans}.


\subsection{Análise Quantitativa}

Das 60 respostas obtidas a partir do preenchimento do questionário de avaliação pelos voluntários, 43 foram positivas, sendo 11 marcadas como \textit{concordo parcialmente} e 32 marcadas como \textit{concordo totalmente}, indicando assim um índice de 71,66\% de aceitação das sugestões de código fonte. Foram 12 respostas negativas, sendo 6 marcadas como \textit{discordo totalmente} e 6 marcadas como \textit{discordo parcialmente}, indicando um índice de 20\% de reprovação das sugestões apresentadas. Do total das 60 respostas, 5 respostas foram marcadas como \textit{não sei}, sendo 8,33\% desse total.


A figura \ref{fig:histograma} apresenta o total de respostas para cada item que poderia ser escolhido.
\begin{figure}
	\begin{center}
		\includegraphics[width=1.0\textwidth]{histograma.png}
			\FigLegenda{\label{fig:histograma}Total de respostas dos participantes para cada item.}
	\end{center}
\end{figure}


\subsection{Análise Qualitativa}

As questões 6 e 8 foram as que mais receberam respostas negativas, contabilizando 8 do total de 12 respostas nesse contexto. Esse resultado já era esperado já que essas questões foram escolhidas por apresentarem confiança baixa. Os voluntários que marcaram a questão 6 negativamente, comentaram que a sugestão apresentada não fazia sentido por não ser muito usada, e sugeriram outros padrões de chamada de método.

A questão 10 recebeu a resposta \textit{discordo totalmente} por um dos voluntários e o comentário do mesmo foi pertinente à sugestão apresentada: ``Se usa o método \textit{BaseMB.info(String)} para mensagens que indiquem sucesso, não faz sentido exibir uma mensagem proveniente de uma situação de erro. Na minha opinião, essa regra apresentada é aplicável aos métodos \textit{BaseMB.error(String)} e \textit{BaseMB.warn(String)}''. Esse comentário reflete uma das limitações desse projeto: não levar em conta blocos de repetição, condição e tratamento de erros, como no caso da estrutura \textit{try catch}. Geralmente o método \textit{BaseMB.info(String)} é usado dentro de uma estrutura \textit{try}, e é executado se houver sucesso na operação, enquanto o método \textit{java.lang.Throwable.getMessage()} é utilizado dentro de uma estrutura \textit{catch}, indicando um erro sendo lançado na aplicação. Sendo assim, se a estrutura \textit{try catch} fosse levada em consideração ao se buscar os padrões sequências, essa sugestão não seria minerada, já que o método \textit{java.lang.Throwable.getMessage()} não se enquadraria como uma sequência para o método \textit{BaseMB.info(String)}.

A questão 1 foi a que mais recebeu respostas \textit{não sei}, contabilizando 3 de um total de 5. Isso pode ser justificado pelo questionário de caracterização, onde os voluntários que responderam essa questão dessa maneira são os que indicaram ter pouca ou nenhuma experiência com o \textit{framework} de testes \textit{Mockito} já que a sugestão apresentada está relacionada a esse \textit{framework}. As outras respostas obtidas para essa questão foram bem satisfatórias: 3 respostas \textit{concordo plenamente}. Essa questão apresentava um suporte baixo, porém uma confiança alta, com valor de 100\%. Os desenvolvedores que comentaram essa questão disseram que a sugestão apresentada se dá por conta da estrutura do \textit{framework Mockito} e seria bastante útil sua utilização.

As questões que foram respondidas como \textit{concordo totalmente} e \textit{concordo parcialmente}, em geral não receberam comentários.



\section{Ameaças a Validade}


A seleção dos participantes foi feita por meio da solicitação de voluntários dentro da equipe de desenvolvimento do sistema IdUFF, a qual um dos pesquisadores faz parte. Como consequência, os resultados podem ter sido influenciados pela relação de amizade entre os voluntários e o pesquisador.  O pequeno número de participantes e o tempo curto para aplicação do experimento foi outro fator importante, pois é possível que os resultados sejam influenciados pelo tamanho e pelas características específicas do grupo.

A quantidade de sugestões avaliadas pelos voluntários era pequena e simplificada, exibindo somente uma sugestão onde poderiam ser sugeridas várias outras. Isso foi necessário devido a limitação de tempo para o preenchimento do questionário por meio dos voluntários e também para análise dos resultados.




